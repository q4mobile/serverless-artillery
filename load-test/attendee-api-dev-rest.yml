config:
  target: "https://attendees.dev.events.q4inc.com/rest/v1"
  ensure:
    max: 10000 # fail if max response time exceeds 5000ms
    maxErrorRate: 4 # fail if error rate exceeds 0%
  phases:
    - duration: 300           # 5 min
      arrivalRate: 166        # 166 attendee's per second ~ 10k per minute
      rampTo: 333
      name: "Attendee rest load test 300-166->333-228179506-all"
scenarios:
  - name: "Perform Attendee http journey to console"
    flow:
      - get:
          url: "/flags"
      - get:
          url: "/event/228179506"
      - get:
          url: "/attendee/public/profile?authToken=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlMzaU1zRFdaWTI0VjI1NG9ob0hqUCJ9.eyJuaWNrbmFtZSI6ImRteXRyby5rdWtoYXJlbmtvIiwibmFtZSI6ImRteXRyby5rdWtoYXJlbmtvQHE0aW5jLmNvbSIsInBpY3R1cmUiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9iYTc0MjhhNWIyYTlmNTFjMWY2MGM4ZTViMjA5YjQyZD9zPTQ4MCZyPXBnJmQ9aHR0cHMlM0ElMkYlMkZjZG4uYXV0aDAuY29tJTJGYXZhdGFycyUyRmRtLnBuZyIsInVwZGF0ZWRfYXQiOiIyMDI0LTA1LTMwVDE0OjUxOjQzLjg4NFoiLCJlbWFpbCI6ImRteXRyby5rdWtoYXJlbmtvQHE0aW5jLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJpc3MiOiJodHRwczovL2Rldi5sb2dpbi5xNGluYy5jb20vIiwiYXVkIjoiRllHZXJkS0R0SlBSY2FrM1Y5VEhUWERCRUpSVGJtWXYiLCJpYXQiOjE3MTc0NDA4MDAsImV4cCI6MTcyNTIxNjgwMCwic3ViIjoiZW1haWx8NjJkZWI0NTBiNDIzMDY4MWIzYTNhMzE4Iiwic2lkIjoiYlA0R3Z6bHVRUmdDQ1liczhyOWxhQlhna1NtM3NxX08iLCJub25jZSI6IlV6aHJUVjlFTkdWamFXOStZa1JNU1ZSM1dITlZORVJrVDFKWGFIRTNhamt1U0dNMmZqbDVhVkV4YUE9PSJ9.Cf2CHJr5_bxhb_ooeAfaQ3ttWCmATLMeOCU5cfkmfdxLP0D_diC1zywKgkptiseXhNDglRW5e2bPevYUfpmDGpeR9wAu9WCDLZKBxPpCmNCM3V-4Lf0GXH7p0q5DtYJMwLIhVm4N4sl_xdwqD8paFRkIWw5D2o8YlloEy-iBRuGC_bhen7XHIhV9CT5CW_cRTETLa6tsuH94caGqbNOouQFkMIn-2yVgE77Fuo74vX7TMzuqn7Jhak2c163Yg16ZfHhb3GYFxmbUwqxQVhbU-g70kymbmy3gCU5imoaETKaOJH7b2rRYPwNFkeOAXOfooZ7R9VRngFpFCVRyehbh4w"
      - think: 2
      - get:
          url: "/event/228179506"
      - get:
          url: "/flags"
      - get:
          url: "/auth/token/228179506"
      - post:
          url: "/attendee"
          headers:
          json:
            attendeeType: "GUEST"
            email: "{{ $randomString() }}@loading.com"
            firstName: "{{ $randomString() }}"
            investorType: "individual"
            lastName: "{{ $randomString() }}"
            meetingId: 228179506
            registrationType: "LOBBY"
            sendReminderEmail: true
            type: "Q4_LOGIN"
            wsConnectionId: "{{ $randomString() }}"
      - loop:
          - get:
              url: "/event/228179506/broadcast-status"
              headers:
          - think: 25
        count: 5
      - get:
          url: "/event/228179506/slides"
          headers:
